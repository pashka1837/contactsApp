"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2910],{2910:(A,d,l)=>{l.r(d),l.d(d,{LoginPageModule:()=>_});var c=l(6814),s=l(95),i=l(7027),g=l(6958),p=l(5861);class f{static noSpaceValidation(t){return t.value.indexOf(" ")>=0?{noSpaceValidation:!0}:null}}var m=l(3020),e=l(6689),v=l(2333);function P(n,t){if(1&n&&(e.TgZ(0,"ion-label",1),e._uU(1),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Oqu(a.messageReq)}}function C(n,t){if(1&n&&(e.TgZ(0,"ion-label",1),e._uU(1),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Oqu(a.messageInval)}}let b=(()=>{var n;class t{constructor(){}ngOnInit(){}ifRequired(){var r;return!(null===(r=this.field.errors)||void 0===r||!r.required||!this.field.touched)}ifInvalid(){var r;return!(null===(r=this.field.errors)||void 0===r||!r.noSpaceValidation)}}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-auth-error"]],inputs:{messageReq:"messageReq",messageInval:"messageInval",field:"field"},decls:2,vars:2,consts:[["color","danger",4,"ngIf"],["color","danger"]],template:function(r,o){1&r&&(e.YNc(0,P,2,1,"ion-label",0),e.YNc(1,C,2,1,"ion-label",0)),2&r&&(e.Q6J("ngIf",o.ifRequired()),e.xp6(1),e.Q6J("ngIf",o.ifInvalid()))},dependencies:[c.O5,i.Q$]}),t})();function y(n,t){1&n&&(e.TgZ(0,"ion-label",15),e._uU(1," Wrong Username or Password"),e.qZA())}const h=function(n){return{authFail:n}},Z=[{path:"",component:(()=>{var n;class t{constructor(r,o,u){this.fb=r,this.authServ=o,this.router=u,this.spinner=!1,this.authFail=!1,this.form=this.fb.group({userName:["",[s.kI.required,f.noSpaceValidation]],password:["",[s.kI.required,f.noSpaceValidation]]})}ionViewWillEnter(){m.A_.setOverlaysWebView({overlay:!1}),m.A_.setBackgroundColor({color:"#3880ff"})}await(r){return(0,p.Z)(function*(){return new Promise(o=>setTimeout(o,r))})()}onSubmit(){var r=this;return(0,p.Z)(function*(){r.spinner=!0,r.authServ.validate(r.fc.userName.value,r.fc.password.value),yield r.await(1200),r.spinner=!1,r.authServ.isAuthed?r.router.navigate(["/contacts"]):(r.authFail=!0,r.form.reset({userName:"",password:""}))})()}clear(){this.authFail=!1}get fc(){return this.form.controls}}return(n=t).\u0275fac=function(r){return new(r||n)(e.Y36(s.qu),e.Y36(v.e),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:16,consts:[[1,"",3,"fullscreen"],[1,"gridCenter",2,"height","100%"],[3,"formGroup","ngSubmit"],["color","light",1,"loginCard","gridCenter"],["color","primary"],["label","Username","label-placement","floating","fill","outline","placeholder","Username","formControlName","userName",3,"ngClass","color","click"],["messageReq","Username is required","messageInval","Username can`t contain spaces",3,"field"],["type","password","label","Password","label-placement","floating","fill","outline","placeholder","Password","formControlName","password",3,"ngClass","color","click"],["messageReq","Password is required","messageInval","Password can`t contain spaces",3,"field"],["color","danger",4,"ngIf"],[1,"loginBtns","gridCenter"],["type","submit","size","degault","fill","outline",3,"disabled"],["size","degault","fill","outline",1,"registerBtn"],[1,"gridCenter","mySpinner"],["color","light"],["color","danger"]],template:function(r,o){1&r&&(e.TgZ(0,"ion-content",0)(1,"ion-grid",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(3,"ion-card",3)(4,"ion-text",4)(5,"h1"),e._uU(6,"Login"),e.qZA()(),e.TgZ(7,"ion-input",5),e.NdJ("click",function(){return o.clear()}),e.qZA(),e._UZ(8,"app-auth-error",6),e.TgZ(9,"ion-input",7),e.NdJ("click",function(){return o.clear()}),e.qZA(),e._UZ(10,"app-auth-error",8),e.YNc(11,y,2,0,"ion-label",9),e.TgZ(12,"ion-grid",10)(13,"ion-button",11),e._uU(14,"Login"),e.qZA(),e.TgZ(15,"ion-button",12),e._uU(16,"Register"),e.qZA()()()()(),e.TgZ(17,"ion-grid",13),e._UZ(18,"ion-spinner",14),e.qZA()()),2&r&&(e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("ngClass",e.VKq(12,h,!!o.authFail))("color",(null==o.fc.userName.errors?null:o.fc.userName.errors.noSpaceValidation)&&"danger"),e.xp6(1),e.Q6J("field",o.fc.userName),e.xp6(1),e.Q6J("ngClass",e.VKq(14,h,!!o.authFail))("color",(null==o.fc.password.errors?null:o.fc.password.errors.noSpaceValidation)&&"danger"),e.xp6(1),e.Q6J("field",o.fc.password),e.xp6(1),e.Q6J("ngIf",o.authFail),e.xp6(2),e.Q6J("disabled",o.form.invalid),e.xp6(4),e.ekj("on",o.spinner))},dependencies:[c.mk,c.O5,s._Y,s.JJ,s.JL,i.YG,i.PM,i.W2,i.jY,i.pK,i.Q$,i.PQ,i.yW,i.j9,s.sg,s.u,b],styles:[".loginCard[_ngcontent-%COMP%]{display:grid;width:70vw;grid-gap:20px;padding:10% 0}.loginBtns[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-gap:15px}.registerBtn[_ngcontent-%COMP%]{display:none}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-primary)}.mySpinner[_ngcontent-%COMP%]{height:100vh;width:100vw;position:absolute;top:0;left:0;background-color:#428cffb3;transform:translateY(-150%)}.mySpinner.on[_ngcontent-%COMP%]{transform:translateY(0);transition:.5s ease-in-out}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px}.authFail[_ngcontent-%COMP%]{--border-color: var(--ion-color-danger)}"]}),t})()}];let w=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),t})(),_=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,s.u5,i.Pc,w,s.UX]}),t})()}}]);